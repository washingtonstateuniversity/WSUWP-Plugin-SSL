!function(a,b,c){function d(){m=a("#add-domain").val(),i(m)}function e(){m=a(this).attr("data-domain"),n=a(this).attr("id"),!0===confirm("Removing "+m+" from the TLS confirmation list.")&&k(m)}function f(){m=a(this).attr("data-domain");var c=a("#tls_ajax_nonce").val(),d={action:"view_csr",domain:m,ajax_nonce:c};a.post(b,d,g)}function g(b){b=a.parseJSON(b),b.success&&(a("#view-csr-container").html('<span id="csr-close">X</span><textarea>'+b.success+"</textarea>").show(),a("#csr-close").on("click",h))}function h(){a("#view-csr-container").html("").hide()}function i(c){var d=a("#tls_ajax_nonce").val(),e={action:"unconfirm_tls",domain:c,ajax_nonce:d};a.post(b,e,j)}function j(b){b=a.parseJSON(b),b.success&&(a("#add-domain").val(""),c.location.reload())}function k(c){var d=a("#tls_ajax_nonce").val(),e={action:"confirm_tls",domain:c,ajax_nonce:d};a.post(b,e,l)}function l(b){b=a.parseJSON(b),b.success&&a("#"+n).parentsUntil("tbody").remove()}var m,n;a("#submit-add-domain").on("click",d),a(".confirm_tls").on("click",e),a(".view_csr").on("click",f)}(jQuery,ajaxurl,window);